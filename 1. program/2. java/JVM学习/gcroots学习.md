# GC Roots

## 1.什么是GC ROOTS
        所谓“GC roots”，或者说tracing GC的“根集合”，就是一组必须活跃的引用。（注意，是一组必须活跃的引用，不是对象。）

        Tracing GC的根本思路就是：给定一个集合的引用作为根出发，通过引用关系遍历对象图，能被遍历到的（可到达的）对象就被判定为存活，其余对象（也就是没有被遍历到的）就自然被判定为死亡。注意再注意：tracing GC的本质是通过找出所有活对象来把其余空间认定为“无用”，而不是找出所有死掉的对象并回收它们占用的空间。
        
        GC roots这组引用是tracing GC的起点。要实现语义正确的tracing GC，就必须要能完整枚举出所有的GC roots，否则就可能会漏扫描应该存活的对象，导致GC错误回收了这些被漏扫的活对象。



## 2.GC ROOTS有哪些？

    1. 所有Java线程当前活跃的栈帧里指向GC堆里的对象的引用；换句话说，当前所有正在被调用的方法的引用类型的参数/局部变量/临时值。
    2. VM的一些静态数据结构里指向GC堆里的对象的引用，例如说HotSpot VM里的Universe里有很多这样的引用。
    3. JNI handles，包括global handles和local handles（看情况）
    4. 所有当前被加载的Java类（看情况）
    5. Java类的引用类型静态变量（看情况）
    6. Java类的运行时常量池里的引用类型常量（String或Class类型）（看情况）
    7. String常量池（StringTable）里的引用

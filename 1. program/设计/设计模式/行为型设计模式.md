# 十一种行为型设计模式


- [十一种行为型设计模式](#%e5%8d%81%e4%b8%80%e7%a7%8d%e8%a1%8c%e4%b8%ba%e5%9e%8b%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f)
  - [十一种设计模式关系图：](#%e5%8d%81%e4%b8%80%e7%a7%8d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e5%85%b3%e7%b3%bb%e5%9b%be)
  - [一、策略模式(strategy)](#%e4%b8%80%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8fstrategy)
  - [二、模板方法模式(Template)](#%e4%ba%8c%e6%a8%a1%e6%9d%bf%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8ftemplate)
  - [三、观察者模式(Template)](#%e4%b8%89%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8ftemplate)
  - [四、迭代器模式(Iterator)](#%e5%9b%9b%e8%bf%ad%e4%bb%a3%e5%99%a8%e6%a8%a1%e5%bc%8fiterator)
  - [五、责任链模式(Chain of Responsibility)](#%e4%ba%94%e8%b4%a3%e4%bb%bb%e9%93%be%e6%a8%a1%e5%bc%8fchain-of-responsibility)
  - [六、命令模式(Command)](#%e5%85%ad%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8fcommand)
  - [七、备忘录模式(Memento)](#%e4%b8%83%e5%a4%87%e5%bf%98%e5%bd%95%e6%a8%a1%e5%bc%8fmemento)
  - [八、状态模式(State)](#%e5%85%ab%e7%8a%b6%e6%80%81%e6%a8%a1%e5%bc%8fstate)

>参考文章：https://blog.csdn.net/zhangerqing/article/details/8243942  
https://blog.csdn.net/zhangerqing/article/details/8245537

## 十一种设计模式关系图：
- 第一类：通过父类与子类的关系进行实现。
- 第二类：两个类之间。
- 第三类：类的状态。
- 第四类：通过中间类

![](https://gitee.com/jingxuanye/yjx-pictures/raw/master/pic/20191219105430.png)

------

## 一、策略模式(strategy)

> 策略模式定义了一系列算法，并将每个算法封装起来，使他们可以相互替换，且算法的变化不会影响到使用算法的客户。需要设计一个接口，为一系列实现类提供统一的方法，多个实现类实现该接口，设计一个抽象类（可有可无，属于辅助类），提供辅助函数

> 定义一系列算法类，将每一个算法封装起来，并让它们可以相互替换，策略模式让算法独立于使用它的客户而变化，也称为政策模式(Policy)。策略模式是一种对象行为型模式。

- _策略模式的决定权在用户，系统本身提供不同算法的实现，新增或者删除算法，对各种算法做封装。因此，策略模式多用在算法决策系统中，外部用户只需要决定用哪个算法即可。_

- _PS:工厂模式和策略模式的侧重点不同， 工厂模式侧重于生成某个基类的多个子类， 策略模式侧重于客户类以何种方式使用使用多种子类完成自己需要实现的功能。_


## 二、模板方法模式(Template)

> 解释一下模板方法模式，就是指：一个抽象类中，有一个主方法，再定义1...n个方法，可以是抽象的，也可以是实际的方法，定义一个类，继承该抽象类，重写抽象方法，通过调用抽象类，实现对子类的调用。


----




___包括这个模式在内的接下来的四个模式，都是类和类之间的关系，不涉及到继承，___

## 三、观察者模式(Template)

> 当一个对象变化时，其它依赖该对象的对象都会收到通知，并且随着变化！对象之间是一种一对多的关系。



## 四、迭代器模式(Iterator)

> 迭代器模式就是顺序访问聚集中的对象，一般来说，集合中非常常见，如果对集合类比较熟悉的话，理解本模式会十分轻松。这句话包含两层意思：一是需要遍历的对象，即聚集对象，二是迭代器对象，用于对聚集对象进行遍历访问。


## 五、责任链模式(Chain of Responsibility)

> 责任链模式，有多个对象，每个对象持有对下一个对象的引用，这样就会形成一条链，请求在这条链上传递，直到某一对象决定处理该请求。但是发出者并不清楚到底最终那个对象会处理该请求，所以，责任链模式可以实现，在隐瞒客户端的情况下，对系统进行动态的调整。


## 六、命令模式(Command)

> 命令模式很好理解，举个例子，司令员下令让士兵去干件事情，从整个事情的角度来考虑，司令员的作用是，发出口令，口令经过传递，传到了士兵耳朵里，士兵去执行。这个过程好在，三者相互解耦，任何一方都不用去依赖其他人，只需要做好自己的事儿就行，司令员要的是结果，不会去关注到底士兵是怎么实现的。


-----

## 七、备忘录模式(Memento)

> 主要目的是保存一个对象的某个状态，以便在适当的时候恢复对象，个人觉得叫备份模式更形象些，通俗的讲下：假设有原始类A，A中有各种属性，A可以决定需要备份的属性，备忘录类B是用来存储A的一些内部状态，类C呢，就是一个用来存储备忘录的，且只能存储，不能修改等操作。做个图来分析一下：



## 八、状态模式(State)

> 当对象的状态改变时，同时改变其行为，很好理解！就拿QQ来说，有几种状态，在线、隐身、忙碌等，每个状态对应不同的操作，而且你的好友也能看到你的状态，所以，状态模式就两点：1、可以通过改变状态来获得不同的行为。2、你的好友能同时看到你的变化。






